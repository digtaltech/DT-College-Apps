{"version":3,"sources":["img/persik.png","App.js","panels/Persik.js","AppTest.js","index.js"],"names":["module","exports","App","platform","props","state","error","isLoaded","items","items1","activeView","fetch","then","res","json","result","setState","stud","$id","alert","logs_today","this","message","activePanel","id","map","item","onClick","getLogs","ID","$nameStud","FirstName","LastName","before","key","header","left","Time","Event","Component","connect","send","ReactDOM","render","document","getElementById"],"mappings":"iGAAAA,EAAOC,QAAU,IAA0B,oC,yhBCiJ5BC,G,gCCrIAC,c,YDcd,WAAYC,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZC,MAAO,KACPC,UAAU,EACVC,MAAO,GACPC,OAAQ,GACRC,WAAY,YAPK,E,iFAWE,IAAD,OACnBC,MAAM,sDACJC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACA,SAAAG,GACC,EAAKC,SAAS,CACbT,UAAU,EACVC,MAAOO,EAAOE,UAKhB,SAAAX,GACC,EAAKU,SAAS,CACbT,UAAU,EACVD,e,8BAKGY,GAAK,IAAD,OACXP,MAAM,4DAA4DO,GAChEN,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACA,SAAAG,GACc,MAAVA,EACFI,MAAM,2DAGN,EAAKH,SAAS,CACbT,UAAU,EACTE,OAAQM,EAAOK,gBASnB,SAAAd,GACC,EAAKU,SAAS,CACbT,UAAU,EACVD,e,+BASK,IAAD,SACkCe,KAAKhB,MAAvCC,EADA,EACAA,MAAOC,EADP,EACOA,SAAUC,EADjB,EACiBA,MAAMC,EADvB,EACuBA,OAC/B,OAAIH,EACI,sEAAcA,EAAMgB,SAChBf,EAIV,kBAAC,IAAD,CAAMG,WAAYW,KAAKhB,MAAMK,YAC5B,kBAAC,IAAD,CAAMa,YAAY,OAAOC,GAAG,YAC3B,kBAAC,IAAD,CAAOA,GAAG,QACT,kBAAC,IAAD,yDAGA,kBAAC,IAAD,KACC,kBAAC,IAAD,KACEhB,EAAMiB,KAAI,SAAAC,GAAI,OACd,kBAAC,IAAD,CAAMC,QAAU,WAAO,EAAKX,SAAS,CAAEN,WAAY,YAAe,EAAKkB,QAAQF,EAAKG,IAAO,EAAKC,UAAYJ,EAAKK,UAAY,IAAKL,EAAKM,UAAaC,OAAQ,kBAAC,IAAD,MAAYC,IAAKR,EAAKG,IAChLH,EAAKK,UADP,IACmBL,EAAKM,iBAS7B,kBAAC,IAAD,CAAMG,QAAM,EAACZ,YAAY,OAAOC,GAAG,WAClC,kBAAC,IAAD,CAAOA,GAAG,QACT,kBAAC,IAAD,CACCY,KAAM,kBAAC,IAAD,CAAiBT,QAAU,kBAAM,EAAKX,SAAS,CAAEN,WAAY,iBAElEW,KAAKS,WAEP,kBAAC,IAAD,KAKC,kBAAC,IAAD,KACErB,EAAOgB,KAAI,SAAAC,GAAI,OACf,kBAAC,IAAD,CAAMQ,IAAKR,EAAKG,IAAhB,IACGH,EAAKW,KADR,KACgBX,EAAKY,eArCrB,wF,GAtEQC,cEtBAA,YCQlBC,IAAQC,KAAK,gBAQbC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.b12f6638.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","import React, { Component } from 'react';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\nimport {\n\tGroup,\n\tList,\n\tHeader,\n\tCell,\n\tPanel,\n\tPanelHeader,\n\tPanelHeaderBack,\n\tSearch,\n\tView,\n\tRoot,\n\tCellButton,\n\tAvatar,\n\n} from \"@vkontakte/vkui\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\n\n\nclass App extends Component {\n\t$nameStud;\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t\tisLoaded: false,\n\t\t\titems: [],\n\t\t\titems1: [],\n\t\t\tactiveView: 'studList',\n\t\t};\n\n\t}\n\tcomponentDidMount() {\n\t\tfetch(\"https://dt-prod.tk/api/v2/Api.php?apicall=getusers\")\n\t\t\t.then(res => res.json())\n\t\t\t.then(\n\t\t\t\tresult => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoaded: true,\n\t\t\t\t\t\titems: result.stud\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t// Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\n\t\t\t\t// чтобы не перехватывать исключения из ошибок в самих компонентах.\n\t\t\t\terror => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoaded: true,\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t}\n\tgetLogs($id){\n\t\tfetch(\"https://dt-prod.tk/api/v2/Api.php?apicall=getlogtoday&id=\"+$id)\n\t\t\t.then(res => res.json())\n\t\t\t.then(\n\t\t\t\tresult => {\n\t\t\t\t\tif(result == null) {\n\t\t\t\t\t\talert(\"Нет данных\");\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tisLoaded: true,\n\t\t\t\t\t\t\t\titems1: result.logs_today\n\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\t// Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\n\t\t\t\t// чтобы не перехватывать исключения из ошибок в самих компонентах.\n\t\t\t\terror => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoaded: true,\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t}\n\n\n\n\n\trender() {\n\t\tconst { error, isLoaded, items,items1 } = this.state;\n\t\tif (error) {\n\t\t\treturn <div>Ошибка: {error.message}</div>;\n\t\t} else if (!isLoaded) {\n\t\t\treturn <div>Загрузка...</div>;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Root activeView={this.state.activeView}>\n\t\t\t\t\t<View activePanel=\"list\" id=\"studList\">\n\t\t\t\t\t\t<Panel id=\"list\">\n\t\t\t\t\t\t\t<PanelHeader>\n\t\t\t\t\t\t\t\tСтуденты\n\t\t\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t\t\t<Group>\n\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t{items.map(item => (\n\t\t\t\t\t\t\t\t\t\t<Cell onClick={ () => {this.setState({ activeView: 'studLog' });  this.getLogs(item.ID);  {this.$nameStud = item.FirstName + \" \"+ item.LastName}} } before={<Avatar />} key={item.ID}  >\n\t\t\t\t\t\t\t\t\t\t\t{item.FirstName} {item.LastName}\n\t\t\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</Group>\n\n\t\t\t\t\t\t</Panel>\n\n\t\t\t\t\t</View>\n\t\t\t\t\t<View header activePanel=\"logs\" id=\"studLog\">\n\t\t\t\t\t\t<Panel id=\"logs\">\n\t\t\t\t\t\t\t<PanelHeader\n\t\t\t\t\t\t\t\tleft={<PanelHeaderBack onClick={ () => this.setState({ activeView: 'studList' }) }/>} // Чтобы вернуться обратно\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.$nameStud}\n\t\t\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t\t\t<Group>\n\t\t\t\t\t\t\t\t{/*// Тут активити*/}\n\t\t\t\t\t\t\t\t{/*<CellButton onClick={ () => this.getLogs() }> //*/}\n\t\t\t\t\t\t\t\t{/*\tBack to View 1*/}\n\t\t\t\t\t\t\t\t{/*</CellButton>*/}\n\t\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t\t{items1.map(item => (\n\t\t\t\t\t\t\t\t\t\t<Cell key={item.ID}>\n\t\t\t\t\t\t\t\t\t\t\t[{item.Time}] {item.Event}\n\t\t\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t</Root>\n\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default App;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React, { Component } from \"react\";\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            items: []\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        fetch(\"https://api.myjson.com/bins/shic4\")\r\n            .then(res => res.json())\r\n            .then(\r\n                result => {\r\n                    this.setState({\r\n                        isLoaded: true,\r\n                        items: result.items\r\n                    });\r\n                },\r\n                // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\r\n                // чтобы не перехватывать исключения из ошибок в самих компонентах.\r\n                error => {\r\n                    this.setState({\r\n                        isLoaded: true,\r\n                        error\r\n                    });\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        const { error, isLoaded, items } = this.state;\r\n        if (error) {\r\n            return <div>Ошибка: {error.message}</div>;\r\n        } else if (!isLoaded) {\r\n            return <div>Загрузка...</div>;\r\n        } else {\r\n            return (\r\n                <ul>\r\n                    {items.map(item => (\r\n                        <li key={item.name}>\r\n                            {item.name} {item.price}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            );\r\n        }\r\n    }\r\n}\r\nexport default App;\r\n//this.setState({ activeView: 'studLog' })\r\n//alert(item.ID)","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport AppTest from \"./AppTest\";\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}